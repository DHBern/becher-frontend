<script>
	import { page } from '$app/stores';
	import '../app.postcss';
	import {
		AppShell,
		AppBar,
		getDrawerStore,
		Drawer,
		initializeStores
	} from '@skeletonlabs/skeleton';
	import '@fortawesome/fontawesome-free/css/solid.min.css';
	import '@fortawesome/fontawesome-free/css/fontawesome.min.css';
	import { base } from '$app/paths';

	initializeStores();
	const drawerStore = getDrawerStore();

	$: classesActive = (/** @type {string} */ href) =>
		href === $page.url.pathname
			? 'bg-primary-500 hover:text-primary-400 text-secondary-500'
			: 'hover:text-primary-500';

	function drawerOpen() {
		const /** @type {import('@skeletonlabs/skeleton').DrawerSettings} */ s = {
				id: 'topnav',
				position: 'top'
			};
		drawerStore.open(s);
	}
</script>

<Drawer height="h-16"
	><nav class="list-nav">
		<!-- (optionally you can provide a label here) -->
		<ul>
			<li>
				<a href="{base}/elements/lists">
					<span class="badge bg-primary-500">(icon)</span>
					<span class="flex-auto">Skeleton</span>
				</a>
			</li>
		</ul>
	</nav></Drawer
>
<!-- App Shell -->
<AppShell slotFooter="bg-secondary-500 p-4" slotPageContent="space-y-8">
	<svelte:fragment slot="header">
		<!-- App Bar -->
		<AppBar padding="px-4" slotDefault="h-full">
			<svelte:fragment slot="lead">
				<strong class="text-xl uppercase py-4">Logo</strong>
			</svelte:fragment>
			<nav class="flex-none flex items-center h-full">
				<a href="{base}/" class="list-nav-item h-full p-4 {classesActive({ base } + '/')}">Home</a>
				<a
					href="{base}/about"
					class="hidden sm:block list-nav-item h-full p-4 {classesActive({ base } + '/about')}"
					>Ãœber das Projekt</a
				>
				<a
					href="{base}/bio"
					class="hidden sm:block list-nav-item h-full p-4 {classesActive({ base } + '/bio')}"
					>Biographie</a
				>
			</nav>
			<svelte:fragment slot="trail">
				<button class="sm:!hidden btn-icon" on:click={drawerOpen}>
					<i class="fa-solid fa-bars"></i>
				</button>
			</svelte:fragment>
		</AppBar>
	</svelte:fragment>
	<!-- Page Route Content -->
	<slot />
	<svelte:fragment slot="footer">Page Footer</svelte:fragment>
</AppShell>
